{"ast":null,"code":"var _jsxFileName = \"/home/edi/frondend/src/pages/play/play.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { Link } from \"react-router-dom\";\nimport { getIsLoggedInMemoized } from '../../selectors/selectors';\nimport LoginRegButton from '../../components/Bottuns/loginRegButton/loginRegButton';\nimport LogoutButton from '../../components/Bottuns/LogoutButton/LogoutButton';\nimport ProfileButton from '../../components/Bottuns/profileButton/profileButton';\nimport { connect, play } from \"../../game/networking\";\nimport { startCapturingInput, stopCapturingInput } from \"../../game/input\";\nimport { initState } from \"../../game/state\";\nimport { startRendering, stopRendering } from \"../../game/render\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './play.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Play = () => {\n  _s();\n  const isLoggedIn = useSelector(getIsLoggedInMemoized);\n  const [Username, setUsername] = useState();\n  const playMenuRef = useRef(null);\n  const playButtonRef = useRef(null);\n  const canvasRef = useRef();\n  useEffect(() => {\n    connect(onGameOver).then(() => {\n      playMenuRef.current.classList.remove(\"hidden\");\n      playButtonRef.current.onclick = event => {\n        event.preventDefault();\n        play(Username);\n        playMenuRef.current.classList.add(\"hidden\");\n        canvasRef.current.classList.remove(\"hidden\");\n        initState();\n        startCapturingInput();\n        startRendering(canvasRef);\n      };\n    }).catch(console.error);\n    return () => {\n      stopCapturingInput();\n      stopRendering();\n    };\n  }, []);\n  const onGameOver = () => {\n    stopCapturingInput();\n    stopRendering();\n    playMenuRef.current.classList.remove(\"hidden\");\n    canvasRef.current.classList.add(\"hidden\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: playMenuRef,\n      id: \"play-menu\",\n      className: \"grid-background hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-relative \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container mt-2 \",\n          children: isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"  \", /*#__PURE__*/_jsxDEV(ProfileButton, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 44\n            }, this), \" \", /*#__PURE__*/_jsxDEV(LogoutButton, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 62\n            }, this)]\n          }, void 0, true) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" mt-3 mx-3\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/leaderboard\",\n          className: \"custom-link bg-transparent\",\n          children: \"leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center align-items-center text-center vh-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-3 rounded  bg-transparent\",\n          style: {\n            width: '16%',\n            height: '45%',\n            maxWidth: '500px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 mt-3 text-start\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter Name\",\n                className: \" form-control rounded-start rounded-end\",\n                id: \"exampleInputname\",\n                onChange: event => setUsername(event.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"center-container\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                ref: playButtonRef,\n                id: \"play-button\",\n                className: \" bttn third\",\n                style: {\n                  width: '40%'\n                },\n                children: \"Play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), !isLoggedIn ? /*#__PURE__*/_jsxDEV(LoginRegButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 40\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      id: \"canvas\",\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Play, \"11Y+xvHbz8BkgLAlWcKdF2+V+rI=\", false, function () {\n  return [useSelector];\n});\n_c = Play;\nexport default Play;\n\n///style={{ backgroundImage: \"linear-gradient(#00d5ff,#0095ff,rgba(93,0,255,.555))\" }}\nvar _c;\n$RefreshReg$(_c, \"Play\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useSelector","Link","getIsLoggedInMemoized","LoginRegButton","LogoutButton","ProfileButton","connect","play","startCapturingInput","stopCapturingInput","initState","startRendering","stopRendering","jsxDEV","_jsxDEV","Fragment","_Fragment","Play","_s","isLoggedIn","Username","setUsername","playMenuRef","playButtonRef","canvasRef","onGameOver","then","current","classList","remove","onclick","event","preventDefault","add","catch","console","error","children","ref","id","className","fileName","_jsxFileName","lineNumber","columnNumber","to","style","width","height","maxWidth","type","placeholder","onChange","target","value","required","_c","$RefreshReg$"],"sources":["/home/edi/frondend/src/pages/play/play.jsx"],"sourcesContent":["import React, { useState,useEffect, useRef } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { Link } from \"react-router-dom\";\n\nimport { getIsLoggedInMemoized } from '../../selectors/selectors';\nimport LoginRegButton from '../../components/Bottuns/loginRegButton/loginRegButton';\nimport LogoutButton from '../../components/Bottuns/LogoutButton/LogoutButton';\nimport ProfileButton from '../../components/Bottuns/profileButton/profileButton';\n\nimport { connect, play } from \"../../game/networking\";\nimport { startCapturingInput, stopCapturingInput } from \"../../game/input\";\nimport { initState } from \"../../game/state\";\nimport { startRendering, stopRendering } from \"../../game/render\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './play.css'\n\n\nconst Play = () => {\n    const isLoggedIn = useSelector(getIsLoggedInMemoized);\n\n    const [Username, setUsername] = useState();\n    const playMenuRef = useRef(null);\n    const playButtonRef = useRef(null);\n    const canvasRef = useRef();\n  \n    useEffect(() => {\n      connect(onGameOver).then(() => {\n        playMenuRef.current.classList.remove(\"hidden\");\n        \n        playButtonRef.current.onclick = (event) => {\n          event.preventDefault();\n          play(Username);\n          playMenuRef.current.classList.add(\"hidden\");\n          canvasRef.current.classList.remove(\"hidden\");\n          initState();\n          startCapturingInput();\n          startRendering(canvasRef);\n        };\n      }).catch(console.error);\n  \n      return () => {\n        stopCapturingInput();\n        stopRendering();\n      };\n    }, []);\n  \n    const onGameOver = () => {\n      stopCapturingInput();\n      stopRendering();\n      playMenuRef.current.classList.remove(\"hidden\");\n      canvasRef.current.classList.add(\"hidden\");\n    };\n\n\n    return (\n        <div >\n            \n            <div ref={playMenuRef} id=\"play-menu\"  className=\"grid-background hidden\" >\n                <div className=\"position-relative \">\n                    <div className=\"container mt-2 \">\n                        {isLoggedIn ? (<>  <ProfileButton /> <LogoutButton /></>) : null}\n                    </div>\n                </div>\n                <div className=\" mt-3 mx-3\">\n                    <Link to='/leaderboard' className=\"custom-link bg-transparent\">leaderboard</Link>\n                </div>\n                <div className=\"d-flex justify-content-center align-items-center text-center vh-100\" >\n\n                    <div className=\"bg-white p-3 rounded  bg-transparent\" style={{ width: '16%', height: '45%', maxWidth: '500px' }} >\n                        <form>\n\n                            <div className=\"mb-3 mt-3 text-start\">\n\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Enter Name\"\n                                    className=\" form-control rounded-start rounded-end\"\n                                    id=\"exampleInputname\"\n                                    onChange={(event) => setUsername(event.target.value)}\n                                    required\n\n\n                                />\n                            </div>\n                            <div className=\"center-container\">\n                                <button type=\"submit\" ref={playButtonRef} id=\"play-button\" className=\" bttn third\" style={{ width: '40%' }}\n                                >Play</button>\n                            </div>\n                        </form>\n                        {!isLoggedIn ? <LoginRegButton /> : null}\n\n                    </div>\n                </div>\n            </div>\n            <canvas ref={canvasRef} id=\"canvas\" className=\"hidden\"></canvas>\n        </div>\n    )\n}\n\nexport default Play\n\n\n///style={{ backgroundImage: \"linear-gradient(#00d5ff,#0095ff,rgba(93,0,255,.555))\" }}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAACC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,SAASC,qBAAqB,QAAQ,2BAA2B;AACjE,OAAOC,cAAc,MAAM,wDAAwD;AACnF,OAAOC,YAAY,MAAM,oDAAoD;AAC7E,OAAOC,aAAa,MAAM,sDAAsD;AAEhF,SAASC,OAAO,EAAEC,IAAI,QAAQ,uBAAuB;AACrD,SAASC,mBAAmB,EAAEC,kBAAkB,QAAQ,kBAAkB;AAC1E,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,cAAc,EAAEC,aAAa,QAAQ,mBAAmB;AAEjE,OAAO,sCAAsC;AAC7C,OAAO,YAAY;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGnB,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACf,MAAMC,UAAU,GAAGnB,WAAW,CAACE,qBAAqB,CAAC;EAErD,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,CAAC;EAC1C,MAAMyB,WAAW,GAAGvB,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMwB,aAAa,GAAGxB,MAAM,CAAC,IAAI,CAAC;EAClC,MAAMyB,SAAS,GAAGzB,MAAM,CAAC,CAAC;EAE1BD,SAAS,CAAC,MAAM;IACdQ,OAAO,CAACmB,UAAU,CAAC,CAACC,IAAI,CAAC,MAAM;MAC7BJ,WAAW,CAACK,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;MAE9CN,aAAa,CAACI,OAAO,CAACG,OAAO,GAAIC,KAAK,IAAK;QACzCA,KAAK,CAACC,cAAc,CAAC,CAAC;QACtBzB,IAAI,CAACa,QAAQ,CAAC;QACdE,WAAW,CAACK,OAAO,CAACC,SAAS,CAACK,GAAG,CAAC,QAAQ,CAAC;QAC3CT,SAAS,CAACG,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;QAC5CnB,SAAS,CAAC,CAAC;QACXF,mBAAmB,CAAC,CAAC;QACrBG,cAAc,CAACa,SAAS,CAAC;MAC3B,CAAC;IACH,CAAC,CAAC,CAACU,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;IAEvB,OAAO,MAAM;MACX3B,kBAAkB,CAAC,CAAC;MACpBG,aAAa,CAAC,CAAC;IACjB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,UAAU,GAAGA,CAAA,KAAM;IACvBhB,kBAAkB,CAAC,CAAC;IACpBG,aAAa,CAAC,CAAC;IACfU,WAAW,CAACK,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IAC9CL,SAAS,CAACG,OAAO,CAACC,SAAS,CAACK,GAAG,CAAC,QAAQ,CAAC;EAC3C,CAAC;EAGD,oBACInB,OAAA;IAAAuB,QAAA,gBAEIvB,OAAA;MAAKwB,GAAG,EAAEhB,WAAY;MAACiB,EAAE,EAAC,WAAW;MAAEC,SAAS,EAAC,wBAAwB;MAAAH,QAAA,gBACrEvB,OAAA;QAAK0B,SAAS,EAAC,oBAAoB;QAAAH,QAAA,eAC/BvB,OAAA;UAAK0B,SAAS,EAAC,iBAAiB;UAAAH,QAAA,EAC3BlB,UAAU,gBAAIL,OAAA,CAAAE,SAAA;YAAAqB,QAAA,GAAE,IAAE,eAAAvB,OAAA,CAACT,aAAa;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,KAAC,eAAA9B,OAAA,CAACV,YAAY;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA,eAAE,CAAC,GAAI;QAAI;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACN9B,OAAA;QAAK0B,SAAS,EAAC,YAAY;QAAAH,QAAA,eACvBvB,OAAA,CAACb,IAAI;UAAC4C,EAAE,EAAC,cAAc;UAACL,SAAS,EAAC,4BAA4B;UAAAH,QAAA,EAAC;QAAW;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChF,CAAC,eACN9B,OAAA;QAAK0B,SAAS,EAAC,qEAAqE;QAAAH,QAAA,eAEhFvB,OAAA;UAAK0B,SAAS,EAAC,sCAAsC;UAACM,KAAK,EAAE;YAAEC,KAAK,EAAE,KAAK;YAAEC,MAAM,EAAE,KAAK;YAAEC,QAAQ,EAAE;UAAQ,CAAE;UAAAZ,QAAA,gBAC5GvB,OAAA;YAAAuB,QAAA,gBAEIvB,OAAA;cAAK0B,SAAS,EAAC,sBAAsB;cAAAH,QAAA,eAEjCvB,OAAA;gBACIoC,IAAI,EAAC,MAAM;gBACXC,WAAW,EAAC,YAAY;gBACxBX,SAAS,EAAC,yCAAyC;gBACnDD,EAAE,EAAC,kBAAkB;gBACrBa,QAAQ,EAAGrB,KAAK,IAAKV,WAAW,CAACU,KAAK,CAACsB,MAAM,CAACC,KAAK,CAAE;gBACrDC,QAAQ;cAAA;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAGX;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACN9B,OAAA;cAAK0B,SAAS,EAAC,kBAAkB;cAAAH,QAAA,eAC7BvB,OAAA;gBAAQoC,IAAI,EAAC,QAAQ;gBAACZ,GAAG,EAAEf,aAAc;gBAACgB,EAAE,EAAC,aAAa;gBAACC,SAAS,EAAC,aAAa;gBAACM,KAAK,EAAE;kBAAEC,KAAK,EAAE;gBAAM,CAAE;gBAAAV,QAAA,EAC1G;cAAI;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EACN,CAACzB,UAAU,gBAAGL,OAAA,CAACX,cAAc;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAAG,IAAI;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEvC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACN9B,OAAA;MAAQwB,GAAG,EAAEd,SAAU;MAACe,EAAE,EAAC,QAAQ;MAACC,SAAS,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC/D,CAAC;AAEd,CAAC;AAAA1B,EAAA,CAhFKD,IAAI;EAAA,QACajB,WAAW;AAAA;AAAAwD,EAAA,GAD5BvC,IAAI;AAkFV,eAAeA,IAAI;;AAGnB;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}